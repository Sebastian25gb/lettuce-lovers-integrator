<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.1/css/all.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style-ingreso.css') }}">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
</head>
<body>

    <section class="derecha">
        <div class="login-body">
          <div class="logo"> 
            <img src="{{ url_for('static', filename='assets/logo.png') }}"
              alt="Login image" class="h-10 w-30">
          </div>
          <div class="form">
            <div id="formulario">
              <div class="container">

                <div class="btn-ingreso">
                  <button id="loginBtn">Iniciar Sesión</button>
                  <button id="registerBtn">Registrarme</button>
                </div>
                
                <style>
                  #loginBtn{
                    background-color: #355834;
                    position: absolute;
                    width: 50%;
                    height: auto;
                  }
                  #registerBtn{
                    background-color: #B5B5B5;
                    width: 100%;
                    padding-left: 50%;
                    height: auto;
                  }
                </style>
                <script>
      
                  // Referencias a los botones
                  const loginBtn = document.getElementById("loginBtn");
                  const registerBtn = document.getElementById("registerBtn");
      
                  // Función para manejar el evento de clic en el botón de login
                  loginBtn.addEventListener("click", function() {
                    // Redireccionar a la página de login
                    window.location.href = "/"; // Esto redirigirá a la raíz de tu aplicación Flask
                  });
      
                  // Función para manejar el evento de clic en el botón de registro
                  registerBtn.addEventListener("click", function() {
                    // Redireccionar a la página de registro
                    window.location.href = "{{ url_for('register') }}"
                  });
      
                </script>

              </div>

              <p class="letra">
                <b>Bienvenido a </b> 
                <br> 
                <b>Lettuce Lovers</b>
              </p>

                <form class="form-group" action="{{ url_for('login') }}" method="post">
        
                  <div class="input-container">
                    
                    <input  type="text" class="form-control" name="username"  id="username" required>
                    <label id="" > <b>Nombre de usuario</b></label>
        
                    <input  style="margin-top: 30px;" type="password" class="form-control" name="password"  id="password" required>
                    <label style="margin-top: 80px" > <b>Contraseña</b></label>
                    <button type="button" id="togglePassword" style="position: absolute; right: 5px; top: 80%; transform: translateY(-50%); background: none; border: none;">
                      <i id="eyeIcon" class="fa fa-eye" style="border: none;"></i>
                    </button>
                    
                    <script>
                        $(document).ready(function() {
                            $("#togglePassword").click(function() {
                                var passwordField = $("#password");
                                var icon = $("#eyeIcon");
                                var fieldType = passwordField.attr('type');
        
                                if (fieldType === 'password') {
                                    passwordField.attr('type', 'text');
                                    icon.removeClass('fa-eye').addClass('fa-eye-slash');
                                } else {
                                    passwordField.attr('type', 'password');
                                    icon.removeClass('fa-eye-slash').addClass('fa-eye');
                                }
                            });
                        });
                    </script>
        
                  </div>
                  
                  <div class="submit-container">
                      <input  type="checkbox" value="checked"><b>Remember</b>
                      <input type="submit" value="Ingresar" class="form-control btn" id="ingreso" name="">
                  </div>
        
                </form>
                
                
                {% with messages = get_flashed_messages()  %}
                {% if messages %}
                {% for message in messages %}
                <div class="alert alert-success alert-dismissible fade show" role="alert">
                  {{ message }}
                  <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                    <span aria-hidden="true">×</span>
                  </button>
        
              </div>
        
                {% endfor %}
                {% endif %}
                {% endwith %}
                
            </div>
          </div>
        </div>
    </section>
    <section class="izquierda">
    </section>


</body>
</html>